task:
  env:
    num_envs: 10
    env_spacing: 20
    max_episode_length: 400
  viewer:
    eye:
    - 3.0
    - 3.0
    - 3.0
    lookat:
    - 0.0
    - 0.0
    - 2.0
    resolution:
    - 1280
    - 720
  sim:
    dt: 0.02
    substeps: 2
    gravity:
    - 0
    - 0
    - -9.81
    replicate_physics: true
    clone_from_source: true
    use_flatcache: true
    use_gpu_pipeline: true
    device: cuda:0
    solver_type: 1
    use_gpu: true
    enable_scene_query_support: true
  name: HoverTankPPO
  debug: true
  debug_interval: 50
  tank_usd_path: ${hydra:runtime.cwd}/../marinegym/robots/assets/usd/BlueROV/tank.usd
  spawn_ranges:
    x_range:
    - 0.8
    - 19.2
    y_range:
    - 0.8
    - 5.2
    z_range:
    - 0.0
    - -1.0
  goal_spawn_ranges:
    x_range:
    - 0.8
    - 19.2
    y_range:
    - 0.8
    - 5.2
    z_range:
    - 0.0
    - -1.0
  termination:
    enable: true
    min_z: -2.0
    max_z: 0.0
    max_distance: 50.0
  success_distance: 0.6
  success_bonus: 5.0
  reward_goal_progress: 1.5
  reward_waypoint_bonus: 0.3
  obstacle_penalty: 0.5
  obstacle_threshold: 1.0
  terminate_on_collision: true
  collision_distance: 0.05
  collision_penalty: 1.0
  reset_cooldown_steps: 5
  behavior_reward:
    enable: true
    stop_dist: 0.5
    avoid_dist: 1.2
    replan_dist: 0.8
    reward_stop: 0.5
    reward_avoid: 0.2
    reward_replan: 0.1
    penalty_ignore: 0.3
  drone_model:
    name: BlueROV
    controller: LeePositionController
  force_sensor: false
  time_encoding: false
  reward_effort_weight: 0.1
  reward_action_smoothness_weight: 0.0
  reward_distance_scale: 1.2
  reward_forward_weight: 0.05
  yaw_align_reward_weight: 0.03
  yaw_blend_gain: 0.4
  yaw_blend_thresh: 0.15
  surface_penalty: 0.2
  use_waypoint_reward: true
  tilt_penalty_weight: 0.05
  tilt_limit_deg: 10.0
  tilt_slow_scale: 0.2
  action_saturation_penalty: 0.05
  disturbances:
    train:
      payload:
        enable_payload: false
        z:
        - 0.0
        - 0.0
        mass:
        - 1.0
        - 1.0
      flow:
        enable_flow: false
        max_flow_velocity:
        - 0
        - 0
        - 0
        - 0
        - 0
        - 0
        flow_velocity_gaussian_noise:
        - 0
        - 0
        - 0
        - 0
        - 0
        - 0
    eval:
      payload:
        enable_payload: false
        z:
        - 0.0
        - 0.0
        mass:
        - 1.0
        - 1.0
      flow:
        enable_flow: false
        max_flow_velocity:
        - 0
        - 0
        - 0
        - 0
        - 0
        - 0
        flow_velocity_gaussian_noise:
        - 0
        - 0
        - 0
        - 0
        - 0
        - 0
    play:
      payload:
        enable_payload: false
        z:
        - 0.0
        - 0.0
        mass:
        - 1.0
        - 1.0
      flow:
        enable_flow: false
        max_flow_velocity:
        - 0
        - 0
        - 0
        - 0
        - 0
        - 0
        flow_velocity_gaussian_noise:
        - 0
        - 0
        - 0
        - 0
        - 0
        - 0
  sonar:
    num_rays: 64
    fov_deg: 360.0
    max_range: 10.0
    include_angle_encoding: true
    min_range_filter: 0.2
    hit_path_deny:
    - /target
    - /BlueROV
    origin_offset: 0.1
    ignore_empty_path: true
    debug_first_hit: true
  depth_camera:
    enable: true
    resolution:
    - 128
    - 72
    data_type: distance_to_camera
    extra_data_types: []
    clip_range:
    - 0.05
    - 20.0
    max_range: 10.0
    fov_deg: 90.0
    min_range_filter: 0.2
    offset:
    - 0.2
    - 0.0
    - 0.0
    rot_offset_deg:
    - 0.0
    - -90.0
    - 0.0
    viz_every: 50
    fail_limit: 10
    log_wandb: true
    fuse_occ: true
  depth_obs:
    enable: true
    downsample:
    - 16
    - 9
  occ_grid:
    enable: true
    grid_size: 24
    grid_range: 5.0
  planner_stack:
    enable: true
    rrt:
      bounds_min:
      - 0.0
      - 0.0
      - -2.0
      bounds_max:
      - 20.0
      - 6.0
      - 2.0
      wall_margin: 0.3
      step_size: 1.0
      max_iters: 400
      goal_sample_rate: 0.1
      neighbor_radius: 2.0
      goal_tolerance: 1.0
      waypoint_tol: 1.2
      plot_every: 1
      plot_gif: false
      plot_gif_every: 5
      plot_history: 50
      plot_3d: false
      log_wandb: true
      log_gif_wandb: false
    sonar:
      num_rays: 64
      fov_deg: 120.0
      max_range: 10.0
      include_angle_encoding: true
      min_range_filter: 0.2
      hit_path_allow:
      - /tank
      - /obstacles
      - /maze_walls
      hit_path_deny:
      - /target
      - /BlueROV
      origin_offset: 0.1
      ignore_empty_path: true
      debug_first_hit: true
    policy:
      min_range_stop: 0.4
      min_range_replan: 0.7
      min_range_avoid: 1.0
      use_front_safety: true
      front_safety_deg: 90.0
      stuck_replan_steps: 60
      stuck_speed_thresh: 0.02
    fusion:
      slow_scale: 0.3
      avoidance_offset: 1.0
      yaw_kp: 2.0
      yaw_kd: 0.2
      yaw_align_threshold: 0.6
      yaw_align_speed_scale: 0.0
      max_speed: 0.3
      max_vert_speed: 0.1
    safety:
      min_range: 0.6
      max_speed: 0.5
  obstacles:
    enable: true
    num: 5
    radius: 0.25
    height: 0.5
    speed: 0.5
    motion: line
    line_axis: 'y'
    amp:
    - 1.5
    - 1.2
    - 0.0
    spawn_ranges:
      x_range:
      - 1.0
      - 16.0
      y_range:
      - 0.5
      - 6.0
      z_range:
      - -1.3
      - -0.2
  maze_walls:
    enable: false
    num: 10
    length: 1.4
    thickness: 0.12
    height: 0.6
    yaw_options_deg:
    - 0.0
    - 90.0
    spawn_ranges:
      x_range:
      - 0.8
      - 19.2
      y_range:
      - 0.8
      - 5.2
      z_range:
      - -0.8
      - -0.8
  planner:
    bounds_min:
    - 0.0
    - 0.0
    - -2.0
    bounds_max:
    - 20.0
    - 6.0
    - 2.0
    wall_margin: 0.3
    step_size: 1.0
    max_iters: 400
    goal_sample_rate: 0.1
    neighbor_radius: 2.0
    goal_tolerance: 1.0
    n_behaviors: 6
    slow_scale: 0.3
    avoidance_offset: 1.0
    max_speed: 0.3
    max_vert_speed: 0.1
  controller:
    u_max: 0.6
    v_max: 0.4
    w_max: 0.2
    r_max: 0.6
    vel_kp: 30.0
    yaw_rate_kp: 1.5
    stabilize_rp: true
    rp_kp: 8.0
    rp_kd: 0.8
    allocation_update_every: 1
    action_smooth_alpha: 0.8
    thrust_axis: 0
    thrust_sign: 1.0
    gravity_comp_scale: 0.0
    max_accel: 0.5
    max_force: null
    max_torque: 5.0
  action_transform: null
algo:
  name: ppo
  train_every: 32
  ppo_epochs: 4
  num_minibatches: 16
  priv_actor: false
  priv_critic: false
  checkpoint_path: null
headless: false
enable_livestream: false
mode: train
sim: ${task.sim}
env: ${task.env}
viewer: ${task.viewer}
total_frames: 2000000
max_iters: -1
eval_interval: -1
save_interval: 100
checkpoint_dir: ${hydra:runtime.cwd}/checkpoints
seed: 0
wandb:
  enable: false
  project: bluerov_manual
  name: null
  tags: []
